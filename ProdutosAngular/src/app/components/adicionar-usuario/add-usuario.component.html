<form (ngSubmit)="onSubmit()" #cadastrarForm="ngForm">
  <div class="div-tabela">
  <table class="table table-bordered">
    <thead>
    <tr>
      <th colspan="4" class="text-center">CADASTRAR NOVO USUÁRIO</th>
    </tr>
    </thead>
    <tbody>
    <tr>
      <td class="coluna-label-1">
        <span style="color: red">* </span>
        <label for="login"> Usuário:</label>
      </td>
      <td colspan="4">
        <input type="text" [(ngModel)]="addUsuario.login"
               class="form-control"
               [class.is-invalid]="login.invalid && login.touched"
               id="login"
               name="loginUsuario"
               placeholder="Insira o seu usuário."
               required #login="ngModel"
               maxlength="30">
          <div *ngIf="login.invalid && login.touched" class="invalid-feedback">
            Usuário é obrigatório.
          </div>
      </td>
    </tr>
    <tr>
      <td>
        <span style="color: red">* </span>
        <label for="senha"> Senha:</label>
      </td>
      <td colspan="4">
        <input type="password" [(ngModel)]="addUsuario.senha"
               class="form-control"
               [class.is-invalid]="senha.invalid && senha
               .touched"
               id="senha"
               name="senhaUsuario"
               placeholder="Insira sua senha."
               required #senha="ngModel"
               maxlength="30">
        <div *ngIf="senha.invalid && senha.touched" class="invalid-feedback">
          Senha é obrigatório.
        </div>
      </td>
    <tr>
      <td class="coluna-label-1">
        <span style="color: red">* </span>
        <label for="nome"> Nome:</label>
      </td>
      <td>
        <input type="text" [(ngModel)]="addUsuario.nome"
               class="form-control"
               [class.is-invalid]="nome.invalid && nome.touched"
               id="nome"
               name="nomeUsuario"
               placeholder="Insira o seu nome verdadeiro."
               required #nome="ngModel"
               maxlength="30">
        <div *ngIf="nome.invalid && nome.touched" class="invalid-feedback">
          Nome é obrigatório.
        </div>
      </td>
      <td class="coluna-label-2">
        <label for="login">LinkedIn / Rede social:</label>
      </td>
      <td>
        <input type="text" [(ngModel)]="addUsuario.linkedin"
               class="form-control"
               id="linkedin"
               name="linkedinUsuario"
               placeholder="Insira o link do seu perfil do Linkedin ou outra rede."
               maxlength="50">
      </td>
    </tr>
    <tr>
      <td>
        <label for="whatsapp">WhatsApp / Contato:</label>
      </td>
      <td>
        <input type="text" [(ngModel)]="addUsuario.whatsapp"
               class="form-control"
               id="whatsapp"
               name="whatsappUsuario"
               placeholder="Insira o seu WhatsApp ou outro número para contato."
               maxlength="30">
      </td>
      <td class="coluna-label-2">
        <label for="endereco">Endereço:</label>
      </td>
      <td>
        <input type="text" [(ngModel)]="addUsuario.endereco"
               class="form-control"
               id="endereco"
               name="enderecoUsuario"
               placeholder="Insira o seu endereço residencial."
               maxlength="60">
      </td>
    </tr>
    <tr>
      <td>
        <span>Foto perfil:</span>
      </td>
      <td colspan="4">
        <input id="foto_perfil" type="file" (change)="onFileChange($event)" />
        <span style="color: red"> - AVISO:</span> <span> Se estiver usando celular/tablet, NÃO selecione foto.</span>
      </td>
    </tr>
    <tr>
      <td>
        <button type="submit" [disabled]="!cadastrarForm.form.valid" class="btn bg-primary-subtle fw-bold" style="width: 100px">Cadastrar</button>
      </td>
      <td colspan="4">
        <button type="button" class="btn bg-secondary-subtle fw-bold" style="width: 100px" (click)="voltarTelaLogin()">Voltar</button>
      </td>
    </tr>
    </tbody>
  </table>
  </div>
</form>

<!-- Janela (modal) que abre depois de cadastrar um usuário -->
<ng-template #modalMsgAddUser let-modal>
  <div class="modal-header">
    <h5 class="modal-title">
      Sucesso!
    </h5>
    <img ngSrc="/codigo_barras.png" height="60" width="60" class="img-right"/>
  </div>
  <div class="modal-body">
    <a>Usuário <b>{{ addUsuario.login }}</b> cadastrado.</a>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modal.close()">Fechar</button>
  </div>
</ng-template>

<!-- Janela (modal) que abre depois de inserir credenciais inválidas -->
<ng-template #modalMsgLoginExistente let-modal class="modal">
  <div class="modal-header">
    <h4 class="modal-title">Erro</h4>
    <img ngSrc="/codigo_barras.png" height="60" width="60" class="img-right"/>
  </div>
  <div class="modal-body">
    <a>Nome de usuário já existe.</a>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="modal.close()">Fechar</button>
  </div>
</ng-template>
