# ===============================================================================
# CONFIGURACOES BASICAS
# ===============================================================================
spring.application.name=eureka-server
server.port=8761
server.address=0.0.0.0

# ===============================================================================
# DESABILITA REGISTRO DE SI MESMO
# ===============================================================================
eureka.client.register-with-eureka=false
eureka.client.fetch-registry=false
eureka.instance.hostname=localhost

# ===============================================================================
# CONFIGURAÇÕES PARA DESENVOLVIMENTO - EVITA MÚLTIPLAS INSTÂNCIAS
# ===============================================================================
# Desabilita auto-preservação (modo de emergência)
eureka.server.enable-self-preservation=false

# Tempo para remover instâncias inativas (padrão: 90s, reduzido para 30s)
eureka.server.eviction-interval-timer-in-ms=10000

# Tempo de espera para renovação (padrão: 30s, reduzido para 10s)
eureka.server.renewal-threshold-update-interval-ms=10000

# Percentual mínimo de renovações (padrão: 85%, reduzido para 49% em dev)
eureka.server.renewal-percent-threshold=0.20

# Tempo de cache do registro (padrão: 30s, reduzido para 10s)
eureka.server.response-cache-update-interval-ms=10000
eureka.server.response-cache-auto-expiration-in-seconds=10

# ===============================================================================
# SEGURANCA OPCIONAL (se quiser ativar auth via Spring Security)
# ===============================================================================
spring.security.user.name=admin
spring.security.user.password={bcrypt}$2a$10$Vt7GrOZJeXxLQXNpUswJEI4Jq8fH1kYlKc/6wwm.XY2p5TdzVE5zW

# ===============================================================================
# MONITORAMENTO E LOGS
# ===============================================================================
management.endpoints.web.exposure.include=health,metrics
management.prometheus.metrics.export.enabled=true
management.metrics.tags.application=eureka-server
logging.level.root=INFO
logging.level.com.netflix.eureka=DEBUG
logging.level.com.netflix.discovery=DEBUG
spring.web.resources.add-mappings=false
