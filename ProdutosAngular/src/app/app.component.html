<div class="container">
  <div class="div-banner bg-dark border border-5 border-secondary rounded-top-5 d-flex bg-gradient" style="height: 180px;">

    <div
      *ngIf="mostrarPerfil; else divVazia"
      class="perfil-div d-flex flex-column justify-content-between align-items-center border border-2 border-secondary rounded-top-5"
      style="width: 13%; height: 100%;">
      <!-- Botão de logout -->
      <button type="button" class="btn btn-danger mt-2 logout-button" (click)="logout()">SAIR</button>
      <!-- Foto e nome do usuário -->
      <div class="d-flex flex-column align-items-center">
        <img [src]="usuarioLogado.imagem ? 'data:image/jpeg;base64,' + usuarioLogado.imagem : '/foto_perfil.png'" alt="Foto do usuário" width="100" height="100">
        <span class="text-white mt-2" style="font-size: 16px;">{{usuarioLogado.login}}</span>
      </div>
    </div>

    <ng-template #divVazia>
      <div
        class="perfil-div d-flex flex-column justify-content-between align-items-center"
        style="width: 13%; height: 100%; background-color: transparent;">
      </div>
    </ng-template>

    <!-- Coluna para o título e botões de navegação (80%) -->
    <div class="w-100 ps-3 d-flex flex-column justify-content-center" style="height: 100%; margin-left: -85px;" [ngClass]="{'centralizado': !mostrarPerfil}">
      <div id="div_banner_menu">
        <div *ngIf="!isMobileOrTablet">
          <img src="/logo_produtos.png" alt="Logo" class="position-absolute" width="165" height="120" style="right: 60px;">
        </div>

        <!-- Botões de navegação -->
        <div *ngIf="!isMobileOrTablet">
          <h2 class="text-center text-white position-relative" style="line-height: 1.2;">
          <span style="color: red; font-size: 60px; font-family: 'Leckerli One', cursive;">P<span style="color: red; font-size: 30px; font-family: 'Merienda', cursive">RO</span>
          <span style="color: white; font-size: 30px; font-family: 'Merienda', cursive">DIFY</span>
          </span>
          </h2>
          <ul class="text-center list-inline py-1" style="font-size: 14px;">
            <li class="list-inline-item">
              <a routerLink="/login" class="btn btn-outline-secondary fw-bold">Início</a>
            </li>
            <li class="list-inline-item">
              <a routerLink="/produtos" class="btn btn-outline-secondary fw-bold">Lista de produtos</a>
            </li>
            <li class="list-inline-item">
              <a routerLink="/addproduto" class="btn btn-outline-secondary fw-bold">Cadastrar produto</a>
            </li>
            <li class="list-inline-item">
              <a routerLink="/sobreTab1" class="btn btn-outline-secondary fw-bold">Sobre</a>
            </li>
          </ul>
        </div>

        <!-- Menu para mobile/tablet -->
        <div *ngIf="isMobileOrTablet" class="mobile-menu">
          <h2 class="text-center text-white position-relative" style="line-height: 1.2;">
          <span style="color: red; font-size: 40px; font-family: 'Leckerli One', cursive;">P<span style="color: red; font-size: 20px; font-family: 'Merienda', cursive">RO</span>
          <span style="color: white; font-size: 20px; font-family: 'Merienda', cursive">DIFY</span>
          </span>
          </h2>
          <!-- Botão de hambúrguer para abrir/fechar o menu -->
          <div class="botao-menu-celular" style="position: absolute; top: 10px; right: 10px;">
            <button class="btn btn-outline-secondary" (click)="abrirFecharMenu()">
              &#9776;
            </button>
            <!-- Menu que é exibido ao clicar no botão -->
            <div *ngIf="menuOpen" class="mobile-menu-options" style="position: absolute; right: 0; top: 40px; width: 200px; background: rgba(255, 255, 255, 0.95); font-size: 12px; padding: 10px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); z-index: 1000;">
              <ul class="mdc-list" style="list-style: none; margin: 0; padding: 0;">
                <li>
                  <a routerLink="/login" (click)="abrirFecharMenu()" style="color: inherit; text-decoration: none; display: block; padding: 5px 10px;">Início</a>
                </li>
                <li>
                  <a routerLink="/produtos" (click)="abrirFecharMenu()" style="color: inherit; text-decoration: none; display: block; padding: 5px 10px;">Lista de produtos</a>
                </li>
                <li>
                  <a routerLink="/addproduto" (click)="abrirFecharMenu()" style="color: inherit; text-decoration: none; display: block; padding: 5px 10px;">Cadastrar produto</a>
                </li>
                <li>
                  <a routerLink="/sobreTab1" (click)="abrirFecharMenu()" style="color: inherit; text-decoration: none; display: block; padding: 5px 10px;">Sobre</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div>
    <button id="btnTrocarTema" (click)="alternarTema()" class="btn btn-outline-secondary fw-bold">⬛️⬜️</button>
    </div>
  </div>

  <router-outlet></router-outlet>

  <div class="bg-dark border border-5 border-secondary position-relative">
    <div class="card-body text-center text-white">
      <div class="bg-gradient p-3 d-flex flex-column align-items-start">
        <div class="d-flex align-items-center">
          <div class="text-start">
          <span style="font-size: 11px; display: block;">
            Acessos: {{numeroVisitas}} | MATHEUS REYNARD -
            <a href="https://www.linkedin.com/in/matheus-reynard" target="_blank" style="font-size: 13px;">Conheça o Desenvolvedor!</a>
          </span>
            <br>
          </div>
        </div>
      </div>

      <!-- Contêiner da notícia rolante -->
      <div class="news-container">
          <div class="news-marquee">
            <marquee behavior="scroll" scrollamount="10" direction="left">
            <span>ÚLTIMOS RECURSOS LANÇADOS NO SISTEMA: </span>
            <span> 1 - Página SOBRE: Tenha informações detalhadas sobre o Dev e sobre a utilização do Sistema sem precisar criar conta e entrar.</span>
            <span> 2 - Barra de notícias no rodapé. Saiba os últimos recursos lançados no sistema de maneira prática e rápida.</span>
            <span> 3 - Modo claro/escuro. Escolha qual usar!</span>
            </marquee>
          </div>
      </div>

      <img src="/logo_sacolas.png" alt="Logo" class="position-absolute end-0 bottom-0" width="190" height="150">
    </div>
  </div>
</div>
